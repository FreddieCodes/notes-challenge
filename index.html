<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>Notes</title>
    <script src="./js/note-model.js"></script>
    <script src="./js/note-list-model.js"></script>
    <script src="./js/note-list-view.js"></script>
    <script src="./js/note-controller.js"></script>
    <script src="./js/single-note-view.js"></script>
    <script src="./js/interface.js"></script>
  </head>

  <body>

    <div id="note"></div>

    <div id="app">
      hello
    </div>

    <section>
  		<form>
  			<textarea rows="10" cols="50" type="textarea" name="textarea" id="noteForm"></textarea>
  			<br>
  		</form>
  		<button id ="btn"> Post </button>
  	</section>


    <script>
    ////////////
    makeUrlChangeShowNoteForCurrentPage();

    function makeUrlChangeShowNoteForCurrentPage() {
    window.addEventListener("hashchange", showNoteForCurrentPage);
    };

    function showNoteForCurrentPage() {
    showNote(getNoteFromUrl(window.location));
    };

    function getNoteFromUrl(location) {
    // return location.hash.split("#")[1];
    var index = location.hash.split("#")[1]
    // var noteId = noteList.notes[index].id
    // console.log(noteId);
    return noteList.notes[index].getText()

    };

    function showNote(htmlNote) {
    document
      .getElementById("note")
      .innerHTML = htmlNote;
    };

    ////////////
      var noteList = new NoteList ();
      var controller = new NoteController (noteList)
      controller.changeView();

    </script>
  </body>
</html>
